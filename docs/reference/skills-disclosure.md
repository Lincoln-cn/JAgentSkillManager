# 脚本类技能的渐进式披露说明

为避免在运行时引入脚本执行器或执行不受信任代码，本项目采用渐进式披露（progressive disclosure）策略：

- 当技能目录包含脚本（例如 `.js`, `.py`, `.sh` 等）且没有可执行实现时，加载器不执行脚本。
- 相反，加载器会读取这些脚本的文本内容并把它们放进技能描述符的 `extraMetadata.disclosedScripts` 字段中。
- 管理 API（例如 `GET /api/agent-skills/{skillName}` 或 `GET /api/agent-skills/all`）会返回该 descriptor，其中包含 `disclosedScripts`，调用方可以查看脚本内容并决定是否在受控环境中执行、人工审核或转换成托管实现。

安全提示：

- 披露脚本可能包含敏感信息 — 在将脚本内容暴露给外部系统或用户前，请进行审计或实施策略（例如最大披露大小、敏感词过滤、只披露文件名并要求授权后披露等）。
- 如果你需要运行脚本，建议在隔离运行环境（容器、沙箱、带资源限制的执行器）中进行，并做好审计与追踪。
